{% extends "base.html" %}

{% block content %}
<div class="card">
    <h1 class="neon-text">üê± –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ MeowTool Web!</h1>
    <p>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—Ö–æ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω. –í–∞—à ID: <strong>{{ user_id[:8] }}...</strong></p>
    
    <div class="features-grid">
        <div class="feature-card">
            <h3>üîç –ß–µ–∫–µ—Ä –∫—É–∫–∏</h3>
            <p>–ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ Roblox –∞–∫–∫–∞—É–Ω—Ç–æ–≤: –±–∞–ª–∞–Ω—Å, –ø—Ä–µ–º–∏—É–º, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, –±–∏–ª–ª–∏–Ω–≥</p>
            <a href="/checker" class="neon-button">–ü–µ—Ä–µ–π—Ç–∏ –∫ —á–µ–∫–µ—Ä—É</a>
        </div>
        
        <div class="feature-card">
            <h3>üîì Bypass —Å–∏—Å—Ç–µ–º</h3>
            <p>–û–±—Ö–æ–¥ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π —á–µ—Ä–µ–∑ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–µ –∞–∫–∫–∞—É–Ω—Ç—ã (13- –∏ 13-17)</p>
            <a href="/bypass" class="neon-button">–ü–µ—Ä–µ–π—Ç–∏ –∫ bypass</a>
        </div>
        
        <div class="feature-card">
            <h3>üìä –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</h3>
            <p>–í–∞—à–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–≤–µ—Ä–æ–∫ –∏ –æ–ø–µ—Ä–∞—Ü–∏–π bypass –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏</p>
            <a href="/dashboard" class="neon-button">–ü–µ—Ä–µ–π—Ç–∏ –≤ –∫–∞–±–∏–Ω–µ—Ç</a>
        </div>
    </div>
</div>

<div class="card">
    <h2>üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∞–π—Ç–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏</h2>
    <div class="stats-grid">
        <div class="stat-card">
            <div class="stat-icon">üë•</div>
            <div class="stat-info">
                <div class="stat-number" id="stats-online">0</div>
                <div class="stat-label">–°–µ–π—á–∞—Å –æ–Ω–ª–∞–π–Ω</div>
            </div>
        </div>
        <div class="stat-card">
            <div class="stat-icon">üìä</div>
            <div class="stat-info">
                <div class="stat-number" id="stats-total">0</div>
                <div class="stat-label">–í—Å–µ–≥–æ –ø—Ä–æ–≤–µ—Ä–æ–∫</div>
            </div>
        </div>
        <div class="stat-card">
            <div class="stat-icon">üë§</div>
            <div class="stat-info">
                <div class="stat-number" id="stats-users">0</div>
                <div class="stat-label">–í—Å–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</div>
            </div>
        </div>
    </div>
    
    <div class="last-update">
        <small>–û–±–Ω–æ–≤–ª–µ–Ω–æ: <span id="last-update-time">—Ç–æ–ª—å–∫–æ —á—Ç–æ</span></small>
    </div>
</div>

<script>
// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
function updateStats() {
    fetch('/api/stats')
        .then(response => response.json())
        .then(data => {
            // –¢–æ–ª—å–∫–æ —Ä–µ–∞–ª—å–Ω—ã–µ —Ü–∏—Ñ—Ä—ã
            document.getElementById('stats-online').textContent = data.online_users;
            document.getElementById('stats-total').textContent = data.total_checks;
            document.getElementById('stats-users').textContent = data.total_users;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Ñ—É—Ç–µ—Ä
            document.getElementById('online-users').textContent = data.online_users;
            document.getElementById('total-checks').textContent = data.total_checks;
            document.getElementById('online-counter').textContent = `Online: ${data.online_users}`;
            
            // –í—Ä–µ–º—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
            document.getElementById('last-update-time').textContent = new Date().toLocaleTimeString();
        })
        .catch(error => console.error('Error updating stats:', error));
}

// –û–±–Ω–æ–≤–ª—è–µ–º –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥
setInterval(updateStats, 5000);
updateStats();
</script>
{% endblock %}