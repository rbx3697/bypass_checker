{% extends "base.html" %}

{% block content %}
<div class="container">
    <div class="card">
        <h2>üîì Bypass Tools</h2>
        
        <div class="bypass-section">
            <h3>Bypass 13- Accounts</h3>
            <div class="input-group">
                <input type="text" id="username-13minus" class="neon-input" placeholder="Username">
                <input type="password" id="password-13minus" class="neon-input" placeholder="Password">
            </div>
            <button class="neon-button" onclick="bypass13Minus()">Bypass 13-</button>
            <div id="result-13minus" class="results-container"></div>
        </div>
        
        <div class="bypass-section">
            <h3>Bypass 13-17 Accounts</h3>
            <div class="input-group">
                <input type="text" id="username-1317" class="neon-input" placeholder="Username">
                <input type="password" id="password-1317" class="neon-input" placeholder="Password">
            </div>
            <button class="neon-button" onclick="bypass1317()">Bypass 13-17</button>
            <div id="result-1317" class="results-container"></div>
        </div>
    </div>
</div>

<script>
function bypass13Minus() {
    const username = document.getElementById('username-13minus').value;
    const password = document.getElementById('password-13minus').value;
    const resultDiv = document.getElementById('result-13minus');
    
    if (!username || !password) {
        resultDiv.innerHTML = '<div class="result-item result-invalid">–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è!</div>';
        return;
    }
    
    resultDiv.innerHTML = '<p>–í—ã–ø–æ–ª–Ω—è–µ–º bypass...</p>';
    
    fetch('/api/bypass_13_minus', {
        method: 'POST',
        headers: {'Content-Type': 'application/json'},
        body: JSON.stringify({
            credentials: {username, password}
        })
    })
    .then(response => response.json())
    .then(data => {
        if (data.status === 'success') {
            resultDiv.innerHTML = `
                <div class="result-item result-valid">
                    <strong>‚úÖ Success!</strong><br>
                    ${data.message}<br>
                    <small>Removed: ${data.restrictions_removed.join(', ')}</small><br>
                    <small>Added: ${data.new_privileges.join(', ')}</small>
                </div>
            `;
        } else {
            resultDiv.innerHTML = `<div class="result-item result-invalid">‚ùå Error: ${data.message}</div>`;
        }
        updateUserStats();
    });
}

function bypass1317() {
    const username = document.getElementById('username-1317').value;
    const password = document.getElementById('password-1317').value;
    const resultDiv = document.getElementById('result-1317');
    
    if (!username || !password) {
        resultDiv.innerHTML = '<div class="result-item result-invalid">–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è!</div>';
        return;
    }
    
    resultDiv.innerHTML = '<p>–í—ã–ø–æ–ª–Ω—è–µ–º bypass...</p>';
    
    fetch('/api/bypass_13_17', {
        method: 'POST',
        headers: {'Content-Type': 'application/json'},
        body: JSON.stringify({
            credentials: {username, password}
        })
    })
    .then(response => response.json())
    .then(data => {
        if (data.status === 'success') {
            resultDiv.innerHTML = `
                <div class="result-item result-valid">
                    <strong>‚úÖ Success!</strong><br>
                    ${data.message}<br>
                    <small>Removed: ${data.restrictions_removed.join(', ')}</small><br>
                    <small>Added: ${data.new_privileges.join(', ')}</small>
                </div>
            `;
        } else {
            resultDiv.innerHTML = `<div class="result-item result-invalid">‚ùå Error: ${data.message}</div>`;
        }
        updateUserStats();
    });
}
</script>
{% endblock %}